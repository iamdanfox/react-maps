
<!doctype html>
<html lang="en">
<head>

<title>Single Map Demo - React-Map</title>

<link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.1/styles/github.min.css">

<script src="http://cdnjs.cloudflare.com/ajax/libs/react/0.10.0/react.js"></script>
<script src="http://cdnjs.cloudflare.com/ajax/libs/react/0.10.0/JSXTransformer.js"></script>

<script src="../src/map.js" type="text/javascript"></script>
<style>
body {text-align:center;}
pre.hljs, #mapdemo {width:60%;display:inline-block;text-align:left;}
</style>
</head>

<body>

<div id="mapdemo"></div>

<pre></pre>
<script type="text/jsx" class="demo">
  /** @jsx React.DOM */

  RefreshMap = React.createClass({
    getInitialState: function(){
      return {
        zoom: 6,
        points: [ {latitude:60.170833,longitude:24.9375}  ]
      }
    },
    randomize: function(){
      randomPoints = [
        {latitude:60.1876172+Math.random()-0.5,longitude:24.815366+Math.random()-0.5},
        {latitude:60.185478+Math.random()-0.5,longitude:24.812257+Math.random()-0.5},
        {latitude:60.2049747+Math.random()-0.5,longitude:24.9634712+Math.random()-0.5}
      ]
      this.setState({points:randomPoints})
    },
    randomizeZoom: function(){
      this.setState({zoom:Math.floor(Math.random()*14)})
    },
    render: function(){
      return (
      <div>
        <Map latitude={60.170833} longitude={24.9375} zoom={this.state.zoom} width='100%' height={250} points={this.state.points} />
        <button onClick={this.randomize}>Randomize Points</button>
        <button onClick={this.randomizeZoom}>Randomize Zoom</button>
      </div>
      )
    }
  })

  React.renderComponent(<RefreshMap />, document.querySelector('#mapdemo'))

</script>

<!-- Copy javascript into <pre> and colour it nicely -->
<script src="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.1/highlight.min.js"></script>
<script>
hljs.configure({languages:['js']})
var pre = document.querySelector('pre')
pre.innerHTML = document.querySelector('script.demo').innerHTML.replace(/>/g,'&gt;').replace(/</g,'&lt;')
hljs.highlightBlock(pre)
</script>

</body>
</html>
